<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Register</title>
</head>

<body>
    <script>
        xmlhttp = new XMLHttpRequest();

        function sendData() {
            var myObj = { username: document.getElementById("username").value, email: document.getElementById("email").value, password: document.getElementById("pwd").value, confirmPass: document.getElementById("confirmpwd").value }
            var myJSON = JSON.stringify(myObj);
            xmlhttp.open("POST", "rest/users", true);
            xmlhttp.setRequestHeader("Content-type", "application/json")
            xmlhttp.setRequestHeader("Accept", "application/json");
            xmlhttp.send(myJSON);
        }


        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4)
            {
                if (xmlhttp.status == 200) 
                {
                    window.location.href = "/Menu.html";
                }
                else
                {
                    if (xmlhttp.status == 401)
                        alert("401: unauthorized" + xmlhttp.responseText);
                }
            }
        }

    </script>
    <h1>Register</h1>
    <HR>
    <table>

        <p>Username <input id="username" type="text"></p>
        <p>Email <input id="email" type="text"></p>
        <p>Password <input id="pwd" type="password"></p>
        <p>Confirm Password <input id="confirmpwd" type="password"></p>
    </table>
    <HR>
    <p><input id="registerButton" type="button" value="Create Account" onclick="sendData()">
</body>

</html>